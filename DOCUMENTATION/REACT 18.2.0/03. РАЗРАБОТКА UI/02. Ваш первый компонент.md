# Ваш первый компонент

Компоненты — это одна из основных концепций React. Они являются фундаментом, на котором вы строите пользовательские интерфейсы (UI), что делает их идеальным местом для начала вашего путешествия по React!

**Вы узнаете:**

- Что такое компонент
- Какую роль играют компоненты в приложении React
- Как написать свой первый компонент React

---

## Компоненты: UI строительные блоки

В Интернете HTML позволяет нам создавать богатые структурированные документы с помощью встроенного набора тегов, таких как `<h1>` и `<li>`:

```html
<article>
  <h1>My First Component</h1>
  <ol>
    <li>Components: UI Building Blocks</li>
    <li>Defining a Component</li>
    <li>Using a Component</li>
  </ol>
</article>
```

Эта разметка представляет данную статью `<article>`, ее заголовок `<h1>` и (сокращенное) оглавление в виде упорядоченного списка `<ol>`. Подобная разметка в сочетании с CSS для стиля и JavaScript для интерактивности лежит за каждой боковой панелью, аватаром, модальным окном, раскрывающимся списком — за каждой частью пользовательского интерфейса, который вы видите в Интернете.

React позволяет объединить разметку, CSS и JavaScript в пользовательские «компоненты», **повторно используемые элементы пользовательского интерфейса** для вашего приложения. Код оглавления, который вы видели выше, можно превратить в компонент `<TableOfContents />`, который можно будет отображать на каждой странице. Внутри он по-прежнему использует те же HTML-теги, что и `<article>`, `<h1>` и т. д.

Как и в случае с HTML-тегами, вы можете компоновать, упорядочивать и вкладывать компоненты для создания целых страниц. Например, страница документации, которую вы читаете, состоит из компонентов React:

```jsx
<PageLayout>
  <NavigationHeader>
    <SearchBar />
    <Link to="/docs">Docs</Link>
  </NavigationHeader>
  <Sidebar />
  <PageContent>
    <TableOfContents />
    <DocumentationText />
  </PageContent>
</PageLayout>
```

По мере роста вашего проекта вы заметите, что многие из ваших проектов могут быть составлены путем повторного использования уже написанных вами компонентов, что ускоряет вашу разработку. Наше оглавление можно добавить на любой экран с помощью `<TableOfContents /`>! Вы даже можете начать свой проект с помощью тысяч компонентов, которыми пользуется сообщество React с открытым исходным кодом, таких как [Chakra UI](https://chakra-ui.com/) и [Material UI](https://material-ui.com/).

## Определение компонента

Традиционно при создании веб-страниц веб-разработчики размечали их контент, а затем добавляли взаимодействие, добавляя немного JavaScript. Это отлично работало, когда взаимодействие в сети было простым и приятным. Теперь это взаимодействие ожидается для многих сайтов и всех приложений. React ставит интерактивность на первое место, но при этом использует ту же технологию: **компонент React — это функция JavaScript, в которую вы можете добавить разметку**. Вот как это выглядит:

```jsx
// App.js
export default function Profile() {
  return <img src="https://i.imgur.com/MK3eW3Am.jpg" alt="Katherine Johnson" />;
}
```

А вот как создать компонент:

### Шаг 1. Экспортируйте компонент

Префикс экспорта по умолчанию — это [стандартный синтаксис JavaScript](https://developer.mozilla.org/docs/web/javascript/reference/statements/export) (не специфичный для React). Он позволяет отметить основную функцию в файле, чтобы позже можно было импортировать ее из других файлов. Подробнее об импорте см. в разделе [импорт и экспорт компонентов](<03. Импорт и экспорт компонентов.md>).

### Шаг 2: Определите функцию

С помощью `function Profile() { }` вы определяете функцию JavaScript с именем `Profile`.

---

**Внимание!**

Компоненты React — это обычные функции JavaScript, но их имена должны начинаться с заглавной буквы, иначе они не будут работать!

---

### Шаг 3. Добавьте разметку

Компонент возвращает тег `<img/>` с атрибутами src и alt. `<img />` написан как HTML, но на самом деле это JavaScript под капотом! Этот синтаксис называется JSX и позволяет встраивать разметку в JavaScript.

Операторы return могут быть записаны в одну строку, как в этом компоненте:

```jsx
return <img src="https://i.imgur.com/MK3eW3As.jpg" alt="Katherine Johnson" />;
```

Но если ваша разметка не находится на той же строке, что и ключевое слово return, вы должны заключить ее в пару круглых скобок:

```jsx
return (
  <div>
    <img src="https://i.imgur.com/MK3eW3As.jpg" alt="Katherine Johnson" />
  </div>
);
```

---

**Внимание!**

Без круглых скобок любой код в строках после return будет игнорироваться!

---

## Использование компонента

Теперь, когда вы определили свой компонент `Profile`, вы можете вложить его в другие компоненты. Например, вы можете экспортировать компонент `Gallery`, который использует несколько компонентов `Profile`:

```jsx
// App.js
function Profile() {
  return <img src="https://i.imgur.com/MK3eW3As.jpg" alt="Katherine Johnson" />;
}

export default function Gallery() {
  return (
    <section>
      <h1>Amazing scientists</h1>
      <Profile />
      <Profile />
      <Profile />
    </section>
  );
}
```

### Что видит браузер

Обратите внимание на разницу в регистре:

- `<section>` написан строчными буквами, поэтому React знает, что мы ссылаемся на HTML-тег.
- `<Profile />` начинается с заглавной буквы `P`, поэтому React знает, что мы хотим использовать наш компонент под названием `Profile`.

А `Profile` содержит еще больше HTML: `<img />`. В итоге вот что видит браузер:

```html
<section>
  <h1>Amazing scientists</h1>
  <img src="https://i.imgur.com/MK3eW3As.jpg" alt="Katherine Johnson" />
  <img src="https://i.imgur.com/MK3eW3As.jpg" alt="Katherine Johnson" />
  <img src="https://i.imgur.com/MK3eW3As.jpg" alt="Katherine Johnson" />
</section>
```

### Вложение и организация компонентов

Компоненты — это обычные функции JavaScript, поэтому вы можете хранить несколько компонентов в одном файле. Это удобно, когда компоненты относительно небольшие или тесно связаны друг с другом. Если этот файл будет переполнен, вы всегда можете переместить `Profile` в отдельный файл. О том, как это сделать, вы узнаете вскоре на странице [импорт и экспорт компонентов](<03. Импорт и экспорт компонентов.md>).

Поскольку компоненты `Profile` отображаются внутри галереи — даже несколько раз! — мы можем сказать, что галерея является родительским компонентом, отображающим каждый `Profile` как «дочерний». Это часть магии React: вы можете определить компонент один раз, а затем использовать его в любом количестве мест и столько раз, сколько захотите.

---

**Внимание!**

Компоненты могут отображать другие компоненты, но их определения никогда не следует вкладывать друг в друга:

```jsx
export default function Gallery() {
  // 🔴 Никогда не определяйте компонент внутри другого компонента!
  function Profile() {
    // ...
  }
  // ...
}
```

Приведенный выше фрагмент будет работает очень медленно и вызывать ошибки. Вместо этого определите каждый компонент на верхнем уровне:

```jsx
export default function Gallery() {
  // ...
}

// ✅ Объявляйте компоненты на верхнем уровне
function Profile() {
  // ...
}
```

Когда дочернему компоненту потребуются некоторые данные от родительского компонента, передайте их через параметры [props](<06. Передача props в компонент.md>), а не через определения вложенности.

---

**Дополнительно: компоненты спускаются по цепочке вниз**

Ваше приложение React начинается с «корневого» компонента. Обычно он создается автоматически при запуске нового проекта. Например, если вы используете CodeSandbox или фреймворк Next.js, корневой компонент определяется в `pages/index.js`. В этих примерах вы экспортировали корневые компоненты.

Большинство приложений React используют компоненты на всех уровнях вложенности. Это означает, что вы будете использовать компоненты не только для повторно используемых элементов, таких как кнопки, но и для более крупных элементов, таких как боковые панели, списки и, в конечном итоге, целые страницы! Компоненты — это удобный способ организовать код пользовательского интерфейса и разметку, даже если некоторые из них используются только один раз.

Фреймворки на основе React идут еще дальше. Вместо того, чтобы использовать пустой HTML-файл и позволить React «взять на себя» управление страницей с помощью JavaScript, они также автоматически генерируют HTML из ваших компонентов React. Это позволяет вашему приложению отображать некоторый контент до загрузки кода JavaScript.

Тем не менее, многие веб-сайты используют React только для добавления интерактивности к существующим HTML-страницам. У них много корневых компонентов вместо одного для всей страницы. Вы можете использовать столько React, сколько вам нужно.

---
