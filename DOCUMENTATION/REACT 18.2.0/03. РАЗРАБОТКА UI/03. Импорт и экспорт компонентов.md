# Импорт и экспорт компонентов

Магия компонентов заключается в их возможности повторного использования: вы можете создавать компоненты, состоящие из других компонентов. Но по мере того, как вы вкладываете все больше и больше компонентов, часто имеет смысл разбить их на разные файлы. Это позволяет вам легко сканировать файлы и повторно использовать компоненты в большем количестве мест.

**Вы узнаете:**

- Что такое файл корневого компонента
- Как импортировать и экспортировать компонент
- Когда использовать импорт и экспорт по умолчанию или именованный
- Как импортировать и экспортировать несколько компонентов из одного файла
- Как разделить компоненты на несколько файлов

## Корневой файл компонента

В главе ["Ваш первый компонент"](<./02. Ваш первый компонент.md>) вы создали компонент `Profile` и компонент `Gallery`, который его отображает:

```jsx
// App.js
function Profile() {
  return <img src="https://i.imgur.com/MK3eW3As.jpg" alt="Katherine Johnson" />;
}

export default function Gallery() {
  return (
    <section>
      <h1>Amazing scientists</h1>
      <Profile />
      <Profile />
      <Profile />
    </section>
  );
}
```

В настоящее время они находятся в корневом файле компонента, который в этом примере называется `App.js`. Однако в зависимости от ваших настроек ваш корневой компонент может находиться в другом файле. Если вы используете фреймворк с маршрутизацией на основе файлов, например Next.js, ваш корневой компонент будет разным для каждой страницы.

## Экспорт и импорт компонента

Что, если в будущем вы захотите изменить целевой экран и разместить там список научных книг? Или разместить все `Profile` где-то еще? Имеет смысл переместить `Gallery` и `Profile` из корневого файла компонента. Это сделает их более модульными и пригодными для повторного использования в других файлах. Вы можете переместить компонент в три этапа:

1. **Создайте** новый JS-файл для размещения компонентов.
2. **Экспортируйте** свой функциональный компонент из созданного файла (используя [экспорт по умолчанию](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/export#using_the_default_export) или [именованный экспорт](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/export#using_named_exports)).
3. **Импортируйте** его в нужном файле, в котором вы будете использовать компонент (используя [импорт по умолчанию](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/import#importing_defaults) или [именованный импорт](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Statements/import#import_a_single_export_from_a_module)).

Здесь и `Profile`, и `Gallery` были перемещены из `App.js` в новый файл под названием `Gallery.js`. Теперь вы можете изменить `App.js` для импорта `Gallery` из `Gallery.js`:

```jsx
// Gallery.js
function Profile() {
  return (
    <img
      src="https://i.imgur.com/QIrZWGIs.jpg"
      alt="Alan L. Hart"
    />
  );
}

export default function Gallery() {
  return (
    <section>
      <h1>Amazing scientists</h1>
      <Profile />
      <Profile />
      <Profile />
    </section>
  );
}

// App.js
import Gallery from './Gallery.js';

export default function App() {
  return <Gallery />;
}
```

Обратите внимание, что этот пример теперь разбит на два файла-компонента:

1. `Gallery.js`

- Определяет компонент `Profile`, который используется только в том же файле и не экспортируется.
- Экспортирует компонент `Gallery` в качестве **экспорта по умолчанию.**

2. `App.js`

- Импортирует `Gallery` в качестве **импорта по умолчанию** из `Gallery.js`.
- Экспортирует корневой компонент `App` в качестве **экспорта по умолчанию.**

---

**Примечание**

Вы можете встретить файлы, у которых отсутствует расширение .js, например:

```jsx
import Gallery from './Gallery';
```

С React будет работать либо `"./Gallery.js"`, либо `"./Gallery"`, хотя первый ближе к тому, как работают [нативные модули ES](https://developer.mozilla.org/docs/Web/JavaScript/Guide/Modules).

---

**Дополнительно: экспорт по умолчанию и именованный экспорт**

Существует два основных способа экспорта значений с помощью JavaScript: экспорт по умолчанию и именованный экспорт. До сих пор в наших примерах использовался только экспорт по умолчанию. Но вы можете использовать один или оба из них в одном файле. **Файл может иметь не более одного экспорта по умолчанию, но может иметь столько именованных экспортов, сколько вам нужно.**

То, как вы экспортируете свой компонент, определяет, как вы должны его импортировать. Вы получите сообщение об ошибке, если попытаетесь импортировать экспорт по умолчанию так же, как и именованный экспорт! Эта диаграмма поможет вам запомнить:

| Syntax  | Export statement                      | Import statement                       |
| ------- | ------------------------------------- | -------------------------------------- |
| Default | `export default function Button() {}` | `import Button from './Button.js'`     |
| Named   | `export function Button() {}`         | `import { Button } from './Button.js'` |

Когда вы пишете импорт по умолчанию, вы можете указать любое имя после `import`. Например, вместо этого вы можете написать `import Banana from './Button.js'`, и он все равно предоставит вам тот же экспорт по умолчанию. Напротив, при именованном импорте имя должно совпадать с обеих сторон. Вот почему это называют именованным импортом!

**Люди часто используют экспорт по умолчанию, если файл экспортирует только один компонент, и используют именованный экспорт, если он экспортирует несколько компонентов и значений.** Независимо от того, какой стиль вы предпочитаете, всегда давайте осмысленные имена функциям вашего компонента и файлам, которые их содержат. Компоненты без имен, например, `export default () => {}` не рекомендуются, поскольку они усложняют отладку.

## Экспорт и импорт нескольких компонентов из одного файла

Что делать, если вы хотите показать только один `Profile` вместо `Gallery`? Вы также можете экспортировать компонент `Profile`. Но в `Gallery.js` уже есть экспорт по умолчанию, и у вас не может быть двух экспортов по умолчанию. Вы можете создать новый файл с экспортом по умолчанию или добавить именованный экспорт для `Profile`. **Файл может иметь только один экспорт по умолчанию, но может иметь множество именованных экспортов!**

---

**Примечание**

Чтобы уменьшить потенциальную путаницу между экспортом по умолчанию и именованным экспортом, некоторые команды предпочитают придерживаться только одного стиля (по умолчанию или именованный) или избегать их смешивания в одном файле. Делайте то, что лучше всего подходит вам!

---

Сначала **экспортируйте** `Profile` из `Gallery.js`, используя именованный экспорт (без ключевого слова `default`):

```jsx
export function Profile() {
  // ...
}
```

Затем импортируйте `Profile` из `Gallery.js` в `App.js`, используя именованный импорт (с фигурными скобками):

```jsx
import { Profile } from './Gallery.js';
```

Наконец, отрендерите `<Profile />` из компонента `App`:

```jsx
export default function App() {
  return <Profile />;
}
```

Теперь `Gallery.js` содержит два экспорта: экспорт `Gallery` по умолчанию и экспорт именованного `Profile`. `App.js` импортирует оба из них:

```jsx
// Gallery.js
export function Profile() {
  return (
    <img
      src="https://i.imgur.com/QIrZWGIs.jpg"
      alt="Alan L. Hart"
    />
  );
}

export default function Gallery() {
  return (
    <section>
      <h1>Amazing scientists</h1>
      <Profile />
      <Profile />
      <Profile />
    </section>
  );
}

// App.js
import Gallery from './Gallery.js';
import { Profile } from './Gallery.js';

export default function App() {
  return (
    <Profile />
  );
}
```

Теперь вы используете сочетание стандартного и именованного экспорта:

- `Gallery.js`:

  - Экспортирует компонент `Profile` как **именованный экспорт** под названием `Profile`.
  - Экспортирует компонент `Gallery` в качестве **экспорта по умолчанию**.

- `App.js`:

  - Импортирует `Profile` как **именованный импорт** `Profile` из `Gallery.js`.
  - Импортирует `Gallery` в качестве **импорта по умолчанию** из `Gallery.js`.
  - Экспортирует корневой компонент `App` в качестве **экспорта по умолчанию**.

## Итого

На этой странице вы узнали:

- Что такое файл корневого компонента
- Как импортировать и экспортировать компонент
- Когда и как использовать импорт и экспорт по умолчанию и именованный импорт и экспорт
- Как экспортировать несколько компонентов из одного файла
